ml_switcheroo.cli.handlers.define
=================================

.. py:module:: ml_switcheroo.cli.handlers.define

.. autoapi-nested-parse::

   Handler for the 'define' command.

   This module orchestrates the "Code Injection" workflow, allowing an LLM or
   developer to define a new operation via a YAML specification and automatically
   inject the corresponding Python code into the `ml-switcheroo` source tree.

   Workflow:

   1.  **Parse YAML**: Validates input against the `OperationDef` schema.
   2.  **Auto-Inference**: Resolves `api: "infer"` placeholders.
   3.  **Inject Hub**: Updates `standards_internal.py` (Abstract Standard).
   4.  **Inject Spokes**: Updates framework adapter files (Mappings).
   5.  **Scaffold Plugins**: Generates boilerplate Python files for hooks.
   6.  **Generate Tests**: Creates physical test file for verification.

       *Update*: Generates ONE test file per operation defined in the YAML.



Attributes
----------

.. autoapisummary::

   ml_switcheroo.cli.handlers.define.yaml


Functions
---------

.. autoapisummary::

   ml_switcheroo.cli.handlers.define.handle_define


Module Contents
---------------

.. py:data:: yaml
   :value: None


.. py:function:: handle_define(yaml_file: pathlib.Path, dry_run: bool = False) -> int

   Main entry point for the `define` CLI command.

   :param yaml_file: Path to the ODL definition YAML file.
   :param dry_run: If True, prints diffs to stdout instead of modifying files.

   :returns: Exit code (0 for success, 1 for failure).
   :rtype: int


