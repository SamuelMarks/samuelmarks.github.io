ml_switcheroo.core.html.nodes
=============================

.. py:module:: ml_switcheroo.core.html.nodes

.. autoapi-nested-parse::

   HTML DSL Semantic Nodes.

   Defines the structure for the visual elements used in the HTML/SVG DSL:
   - GridBox: Represents a layer (Red), operation (Blue), or data shape (Green).
   - SvgArrow: Represents data flow connections.
   - HtmlDocument: The root container holding CSS and body content.



Classes
-------

.. autoapisummary::

   ml_switcheroo.core.html.nodes.HtmlNode
   ml_switcheroo.core.html.nodes.SvgArrow
   ml_switcheroo.core.html.nodes.GridBox
   ml_switcheroo.core.html.nodes.HtmlDocument


Module Contents
---------------

.. py:class:: HtmlNode

   Abstract base class for all HTML DSL elements.


   .. py:method:: to_html() -> str
      :abstractmethod:


      Render the node and its children to an HTML string.

      :returns: The raw HTML content.
      :rtype: str

      :raises NotImplementedError: If not implemented by subclass.



.. py:class:: SvgArrow

   Bases: :py:obj:`HtmlNode`


   Represents an SVG connection line between grid cells.


   .. py:attribute:: x1
      :type:  int

      Start X coordinate.


   .. py:attribute:: y1
      :type:  int

      Start Y coordinate.


   .. py:attribute:: x2
      :type:  int

      End X coordinate.


   .. py:attribute:: y2
      :type:  int

      End Y coordinate.


   .. py:attribute:: style_class
      :type:  str

      CSS class for stroke color/style (e.g. 's-red', 's-blue').


   .. py:attribute:: marker_end
      :type:  str

      Marker ID for arrowhead (e.g. 'url(#mr)').


   .. py:attribute:: parent_style
      :type:  str

      CSS string for absolute positioning of the container SVG.
      Example: 'left:100%; bottom:20px;'


   .. py:method:: to_html() -> str

      Renders the arrow as an absolute SVG element.
      Adds 'sw-arrow' class for scoped styling.



.. py:class:: GridBox

   Bases: :py:obj:`HtmlNode`


   Represents a content box positioned within the CSS Grid.


   .. py:attribute:: row
      :type:  int

      CSS Grid row index.


   .. py:attribute:: col
      :type:  int

      CSS Grid column index.


   .. py:attribute:: css_class
      :type:  str

      Visual styling classes (e.g. 'box r', 'circ').


   .. py:attribute:: header_text
      :type:  str

      Main label (e.g. 'Conv2d', 'Return').


   .. py:attribute:: code_text
      :type:  Optional[str]
      :value: None


      Parameter details formatted as code.


   .. py:attribute:: body_text
      :type:  Optional[str]
      :value: None


      Additional text (e.g. Shape info like '[B, 32]').


   .. py:attribute:: arrows
      :type:  List[SvgArrow]
      :value: []


      List of outgoing or decorative arrows attached to this box.


   .. py:attribute:: z_index
      :type:  Optional[int]
      :value: None


      Explicit stack order.


   .. py:method:: to_html() -> str

      Renders the grid cell div, its content, and attached arrows.



.. py:class:: HtmlDocument

   Bases: :py:obj:`HtmlNode`


   Root container for the generated HTML.


   .. py:attribute:: model_name
      :type:  str

      Title displayed in H1.


   .. py:attribute:: children
      :type:  List[GridBox]

      List of grid elements.


   .. py:method:: to_html() -> str

      Renders the complete HTML document.

      Notes:

      - Removed 'visibility:hidden' from markers block to enable correct rendering in some browsers
        when injected via innerHTML. Use 0 sizes and pointer-events logic instead.



