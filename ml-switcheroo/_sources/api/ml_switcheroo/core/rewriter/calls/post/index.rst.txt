ml_switcheroo.core.rewriter.calls.post
======================================

.. py:module:: ml_switcheroo.core.rewriter.calls.post

.. autoapi-nested-parse::

   Post-processing Phase for Call Rewriting.

   Handles transformations that occur *after* the main API rewrite call has been constructed.
   1.  **Output Adaptation**: Applying `output_adapter` lambdas or `output_select_index` subscripting.
   2.  **Output Casting**: Injecting `.astype(...)` based on `output_cast`.
   3.  **State Threading (Init)**: Stripping or injecting magic arguments (like `rngs`)
       if inside a constructor context, based on Target Framework Traits.



Functions
---------

.. autoapisummary::

   ml_switcheroo.core.rewriter.calls.post.handle_post_processing


Module Contents
---------------

.. py:function:: handle_post_processing(rewriter: Any, node: libcst.CSTNode, mapping: Dict[str, Any], abstract_id: str) -> libcst.CSTNode

   Applies post-rewrite modifications to the result node.

   :param rewriter: The calling Rewriter instance.
   :param node: The CST node resulting from the transformation strategy.
   :param mapping: The definition of the target variant.
   :param abstract_id: The ID of the abstract operation.

   :returns: The final enhanced node.
   :rtype: cst.CSTNode


