ml_switcheroo.core.html.nodes
=============================

.. py:module:: ml_switcheroo.core.html.nodes

.. autoapi-nested-parse::

   HTML DSL Semantic Nodes.

   Defines the structure for the visual elements used in the HTML/SVG DSL:
   - GridBox: Represents a layer (Red), operation (Blue), or data shape (Green).
   - SvgArrow: Represents data flow connections.
   - HtmlDocument: The root container holding CSS and body content.



Classes
-------

.. autoapisummary::

   ml_switcheroo.core.html.nodes.HtmlNode
   ml_switcheroo.core.html.nodes.SvgArrow
   ml_switcheroo.core.html.nodes.GridBox
   ml_switcheroo.core.html.nodes.HtmlDocument


Module Contents
---------------

.. py:class:: HtmlNode

   Abstract base class for all HTML DSL elements.


   .. py:method:: to_html() -> str
      :abstractmethod:


      Render the node and its children to an HTML string.

      :returns: The raw HTML content.
      :rtype: str

      :raises NotImplementedError: If not implemented by subclass.



.. py:class:: SvgArrow

   Bases: :py:obj:`HtmlNode`


   Represents an SVG connection line between grid cells.

   .. attribute:: x1

      Start X coordinate.

      :type: int

   .. attribute:: y1

      Start Y coordinate.

      :type: int

   .. attribute:: x2

      End X coordinate.

      :type: int

   .. attribute:: y2

      End Y coordinate.

      :type: int

   .. attribute:: style_class

      CSS class for stroke color/style (e.g. 's-red', 's-blue').

      :type: str

   .. attribute:: marker_end

      Marker ID for arrowhead (e.g. 'url(#mr)').

      :type: str

   .. attribute:: parent_style

      CSS string for absolute positioning of the container SVG.
      Example: 'left:100%; bottom:20px;'

      :type: str


   .. py:attribute:: x1
      :type:  int


   .. py:attribute:: y1
      :type:  int


   .. py:attribute:: x2
      :type:  int


   .. py:attribute:: y2
      :type:  int


   .. py:attribute:: style_class
      :type:  str


   .. py:attribute:: marker_end
      :type:  str


   .. py:attribute:: parent_style
      :type:  str


   .. py:method:: to_html() -> str

      Renders the arrow as an absolute SVG element.
      Adds 'sw-arrow' class for scoped styling.



.. py:class:: GridBox

   Bases: :py:obj:`HtmlNode`


   Represents a content box positioned within the CSS Grid.

   .. attribute:: row

      CSS Grid row index.

      :type: int

   .. attribute:: col

      CSS Grid column index.

      :type: int

   .. attribute:: css_class

      Visual styling classes (e.g. 'box r', 'circ').

      :type: str

   .. attribute:: header_text

      Main label (e.g. 'Conv2d', 'Return').

      :type: str

   .. attribute:: code_text

      Parameter details formatted as code.

      :type: Optional[str]

   .. attribute:: body_text

      Additional text (e.g. Shape info like '[B, 32]').

      :type: Optional[str]

   .. attribute:: arrows

      List of outgoing or decorative arrows attached to this box.

      :type: List[SvgArrow]

   .. attribute:: z_index

      Explicit stack order.

      :type: Optional[int]


   .. py:attribute:: row
      :type:  int


   .. py:attribute:: col
      :type:  int


   .. py:attribute:: css_class
      :type:  str


   .. py:attribute:: header_text
      :type:  str


   .. py:attribute:: code_text
      :type:  Optional[str]
      :value: None



   .. py:attribute:: body_text
      :type:  Optional[str]
      :value: None



   .. py:attribute:: arrows
      :type:  List[SvgArrow]
      :value: []



   .. py:attribute:: z_index
      :type:  Optional[int]
      :value: None



   .. py:method:: to_html() -> str

      Renders the grid cell div, its content, and attached arrows.



.. py:class:: HtmlDocument

   Bases: :py:obj:`HtmlNode`


   Root container for the generated HTML.

   .. attribute:: model_name

      Title displayed in H1.

      :type: str

   .. attribute:: children

      List of grid elements.

      :type: List[GridBox]


   .. py:attribute:: model_name
      :type:  str


   .. py:attribute:: children
      :type:  List[GridBox]


   .. py:method:: to_html() -> str

      Renders the complete HTML document.
      Notes:
      - Removed 'visibility:hidden' from markers block to enable correct rendering in some browsers
        when injected via innerHTML. Use 0 sizes and pointer-events logic instead.



