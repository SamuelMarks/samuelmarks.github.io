ml_switcheroo.core.import_fixer
===============================

.. py:module:: ml_switcheroo.core.import_fixer

.. autoapi-nested-parse::

   Import Fixer Package.

   This package provides the ``ImportFixer`` class, a LibCST transformer responsible for:
   1.  **Injection**: Adding required imports for the target framework.
   2.  **Pruning**: Removing unused imports from the source framework.
   3.  **Refinement**: Collapsing aliases and cleaning up re-exports.

   It uses ``ImportResolver`` to pre-calculate necessary changes before transformation.



Submodules
----------

.. toctree::
   :maxdepth: 1

   /api/ml_switcheroo/core/import_fixer/attributes_mixin/index
   /api/ml_switcheroo/core/import_fixer/base/index
   /api/ml_switcheroo/core/import_fixer/imports_mixin/index
   /api/ml_switcheroo/core/import_fixer/injection_mixin/index
   /api/ml_switcheroo/core/import_fixer/resolution/index
   /api/ml_switcheroo/core/import_fixer/utils/index


Classes
-------

.. autoapisummary::

   ml_switcheroo.core.import_fixer.ImportResolver
   ml_switcheroo.core.import_fixer.ResolutionPlan
   ml_switcheroo.core.import_fixer.ImportReq
   ml_switcheroo.core.import_fixer.ImportFixer


Package Contents
----------------

.. py:class:: ImportResolver(semantics: ml_switcheroo.semantics.manager.SemanticsManager)

   .. py:attribute:: semantics


   .. py:method:: resolve(tree: libcst.Module, target_fw: str) -> ResolutionPlan


.. py:class:: ResolutionPlan

   The strategy for the ImportFixer to execute.


   .. py:attribute:: required_imports
      :type:  List[ImportReq]
      :value: []



   .. py:attribute:: mappings
      :type:  Dict[str, ImportReq]


   .. py:attribute:: path_to_alias
      :type:  Dict[str, str]


.. py:class:: ImportReq

   Represents a normalized import requirement.
   Can represent `import module as alias` or `from module import sub as alias`.


   .. py:attribute:: module
      :type:  str


   .. py:attribute:: subcomponent
      :type:  Optional[str]
      :value: None



   .. py:attribute:: alias
      :type:  Optional[str]
      :value: None



   .. py:property:: signature
      :type: str


      Unique signature for deduplication.


.. py:class:: ImportFixer

   Bases: :py:obj:`attributes_mixin.AttributeMixin`, :py:obj:`imports_mixin.ImportMixin`, :py:obj:`injection_mixin.InjectionMixin`, :py:obj:`base.BaseImportFixer`


   Composite Transformer for managing imports and namespacing.

   Inherits functionality from:
   - :class:`AttributeMixin`: simplifying dotted attribute access.
   - :class:`ImportMixin`: rewriting import statements using the plan.
   - :class:`InjectionMixin`: injecting missing top-level imports from the plan.
   - :class:`BaseImportFixer`: State management and configuration.


