ml_switcheroo.semantics.schema
==============================

.. py:module:: ml_switcheroo.semantics.schema

.. autoapi-nested-parse::

   Pydantic Schemas for Semantic Knowledge Base.

   This module defines the data structure of the JSON mapping files (`k_array_api.json`, etc.)
   and the Framework Configuration blocks.

   Updated to support:
   - `PluginTraits`: Capability flags for decoupling plugins from framework identifiers.
   - Rich Argument Definitions in `std_args` with Typed Defaults (Any).
   - Conditional Dispatch Rules.
   - **PatternDef**: Graph fusion patterns.



Attributes
----------

.. autoapisummary::

   ml_switcheroo.semantics.schema.Variant


Classes
-------

.. autoapisummary::

   ml_switcheroo.semantics.schema.PluginTraits
   ml_switcheroo.semantics.schema.StructuralTraits
   ml_switcheroo.semantics.schema.FrameworkAlias
   ml_switcheroo.semantics.schema.FrameworkTraits
   ml_switcheroo.semantics.schema.OpDefinition
   ml_switcheroo.semantics.schema.SemanticsFile


Module Contents
---------------

.. py:class:: PluginTraits(/, **data: Any)

   Bases: :py:obj:`pydantic.BaseModel`


   Defines capability flags for a framework to guide plugin logic.


   .. py:attribute:: model_config

      Configuration for the model, should be a dictionary conforming to [`ConfigDict`][pydantic.config.ConfigDict].


   .. py:attribute:: has_numpy_compatible_arrays
      :type:  bool
      :value: None



   .. py:attribute:: requires_explicit_rng
      :type:  bool
      :value: None



   .. py:attribute:: requires_functional_state
      :type:  bool
      :value: None



   .. py:attribute:: requires_functional_control_flow
      :type:  bool
      :value: None



   .. py:attribute:: enforce_purity_analysis
      :type:  bool
      :value: None



   .. py:attribute:: strict_materialization_method
      :type:  Optional[str]
      :value: None



.. py:class:: StructuralTraits(/, **data: Any)

   Bases: :py:obj:`pydantic.BaseModel`


   Defines structural patterns for a framework to guide generic rewriters.


   .. py:attribute:: model_config

      Configuration for the model, should be a dictionary conforming to [`ConfigDict`][pydantic.config.ConfigDict].


   .. py:attribute:: module_base
      :type:  Optional[str]
      :value: None



   .. py:attribute:: forward_method
      :type:  Optional[str]
      :value: None



   .. py:attribute:: known_inference_methods
      :type:  Set[str]
      :value: None



   .. py:attribute:: functional_execution_method
      :type:  Optional[str]
      :value: None



   .. py:attribute:: requires_super_init
      :type:  bool
      :value: None



   .. py:attribute:: init_method_name
      :type:  Optional[str]
      :value: None



   .. py:attribute:: inject_magic_args
      :type:  List[Tuple[str, Optional[str]]]
      :value: None



   .. py:attribute:: strip_magic_args
      :type:  List[str]
      :value: None



   .. py:attribute:: auto_strip_magic_args
      :type:  bool
      :value: None



   .. py:attribute:: lifecycle_strip_methods
      :type:  List[str]
      :value: None



   .. py:attribute:: lifecycle_warn_methods
      :type:  List[str]
      :value: None



   .. py:attribute:: impurity_methods
      :type:  List[str]
      :value: None



   .. py:attribute:: implicit_method_roots
      :type:  List[str]
      :value: None



   .. py:attribute:: jit_static_args
      :type:  List[str]
      :value: None



.. py:class:: FrameworkAlias(/, **data: Any)

   Bases: :py:obj:`pydantic.BaseModel`


   Configuration for global module aliasing.


   .. py:attribute:: module
      :type:  str


   .. py:attribute:: name
      :type:  str


.. py:class:: FrameworkTraits(/, **data: Any)

   Bases: :py:obj:`pydantic.BaseModel`


   Configuration for a framework's structural behavior.


   .. py:attribute:: model_config

      Configuration for the model, should be a dictionary conforming to [`ConfigDict`][pydantic.config.ConfigDict].


   .. py:attribute:: extends
      :type:  Optional[str]
      :value: None



   .. py:attribute:: alias
      :type:  Optional[FrameworkAlias]
      :value: None



   .. py:attribute:: stateful_call
      :type:  Optional[Dict[str, str]]
      :value: None



   .. py:attribute:: tiers
      :type:  Optional[List[ml_switcheroo.enums.SemanticTier]]
      :value: None



   .. py:attribute:: traits
      :type:  Optional[StructuralTraits]
      :value: None



   .. py:attribute:: plugin_traits
      :type:  Optional[PluginTraits]
      :value: None



.. py:data:: Variant

.. py:class:: OpDefinition(/, **data: Any)

   Bases: :py:obj:`ml_switcheroo.core.dsl.OperationDef`


   Compat alias for OperationDef to match existing codebase usage.


.. py:class:: SemanticsFile(/, **data: Any)

   Bases: :py:obj:`pydantic.BaseModel`


   Schema representing an entire semantics JSON file.


   .. py:attribute:: model_config

      Configuration for the model, should be a dictionary conforming to [`ConfigDict`][pydantic.config.ConfigDict].


   .. py:attribute:: frameworks
      :type:  Optional[Dict[str, FrameworkTraits]]
      :value: None



   .. py:attribute:: imports
      :type:  Optional[Dict[str, Any]]
      :value: None



   .. py:attribute:: patterns
      :type:  Optional[List[ml_switcheroo.core.dsl.PatternDef]]
      :value: None



