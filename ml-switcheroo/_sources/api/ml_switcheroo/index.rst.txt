ml_switcheroo
=============

.. py:module:: ml_switcheroo

.. autoapi-nested-parse::

   ml-switcheroo Package.

   A deterministic AST transpiler for converting Deep Learning models between
   frameworks (e.g., PyTorch -> JAX/Flax).

   This package exposes the core compilation engine and configuration utilities
   for programmatic usage.

   Usage
   -----

   Simple String Conversion
   ^^^^^^^^^^^^^^^^^^^^^^^^

   .. code-block:: python

       import ml_switcheroo as mls
       # Auto-detects defaults based on installed libraries (e.g. Torch -> JAX)
       code = "y = torch.abs(x)"
       result = mls.convert(code)
       print(result)

       # Explicit conversion
       result = mls.convert(code, source="torch", target="jax")

   Advanced Usage (AST Engine)
   ^^^^^^^^^^^^^^^^^^^^^^^^^^^

   .. code-block:: python

       from ml_switcheroo import ASTEngine, RuntimeConfig

       config = RuntimeConfig(source_framework="torch", target_framework="jax", strict_mode=True)
       engine = ASTEngine(config=config)
       res = engine.run("y = torch.abs(x)")

       if res.success:
           print(res.code)
       else:
           print(f"Errors: {res.errors}")



Submodules
----------

.. toctree::
   :maxdepth: 1

   /api/ml_switcheroo/__main__/index
   /api/ml_switcheroo/analysis/index
   /api/ml_switcheroo/cli/index
   /api/ml_switcheroo/config/index
   /api/ml_switcheroo/core/index
   /api/ml_switcheroo/discovery/index
   /api/ml_switcheroo/enums/index
   /api/ml_switcheroo/frameworks/index
   /api/ml_switcheroo/generated_tests/index
   /api/ml_switcheroo/importers/index
   /api/ml_switcheroo/plugins/index
   /api/ml_switcheroo/semantics/index
   /api/ml_switcheroo/testing/index
   /api/ml_switcheroo/utils/index


Attributes
----------

.. autoapisummary::

   ml_switcheroo.__version__


Functions
---------

.. autoapisummary::

   ml_switcheroo.convert


Package Contents
----------------

.. py:data:: __version__
   :value: '0.0.1'


.. py:function:: convert(code: str, source: Optional[str] = None, target: Optional[str] = None, strict: bool = False, plugin_settings: Optional[Dict[str, Any]] = None, semantics: Optional[semantics.manager.SemanticsManager] = None) -> str

   Transpiles a string of Python code from one framework to another.

   This is a high-level convenience wrapper around the `ASTEngine`. For file-based
   conversions or batch processing, consider using `ml_switcheroo.cli` or using
   `ASTEngine` directly.

   :param code: The source code to convert.
   :type code: str
   :param source: The source framework key (e.g., "torch").
                  If None, determined dynamically by priority via `RuntimeConfig`.
   :type source: str, optional
   :param target: The target framework key (e.g., "jax").
                  If None, determined dynamically by priority via `RuntimeConfig`.
   :type target: str, optional
   :param strict: If True, the engine will return an error if an API
                  cannot be mapped. If False (default), the original code
                  is preserved wrapped in escape hatch comments.
   :type strict: bool
   :param plugin_settings: Specific configuration flags passed to
                           plugin hooks (e.g., `{"rng_arg_name": "seed"}`).
   :type plugin_settings: dict, optional
   :param semantics: An existing Knowledge Base instance.
                     If None, a new one is initialized from disk.
   :type semantics: SemanticsManager, optional

   :returns: The transpiled source code.
   :rtype: str

   :raises ValueError: If the conversion fails (e.g. syntax errors or strict mode violations).


